<a class="btn btn-primary mb-3" routerLink="/addDM">
  <i class="fas fa-plus-circle me-2"></i> Deliver Bikes to a Dealer
</a>

<div class="card shadow-lg mb-4">
  <div class="card-header bg-primary text-white">
    <i class="fas fa-table me-2"></i>
    Dealer Masters Data
  </div>
  <div class="card-body">
    <table
      datatable
      [dtOptions]="dtOptions"
      [dtTrigger]="dtTrigger"
      class="table table-hover table-bordered align-middle text-center"
    >
      <thead class="table-dark">
        <tr>
          <!-- <th><i class="fas fa-id-card me-1"></i> DM ID</th> -->
          <th><i class="fas fa-store me-1"></i> Dealer ID</th>
          <th><i class="fas fa-motorcycle me-1"></i> Bike ID</th>
          <th><i class="fas fa-truck-loading me-1"></i> Bikes Delivered</th>
          <th><i class="fas fa-calendar-day me-1"></i> Delivery Date</th>
          <th><i class="fas fa-cogs me-1"></i> Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dm of DMs">
          <!-- <td>{{ dm.dealerMasterId }}</td> -->
          <td>{{ dm.dealerId }}</td>
          <td>{{ dm.bikeId }}</td>
          <td>{{ dm.bikesDelivered }}</td>
          <td>{{ dm.deliveryDate | date: 'yyyy-MM-dd' }}</td>

          <!-- Actions -->
          <td>
            <button
            class="btn btn-sm btn-info me-2"
            (click)="onView(dm)"
          >
            <i class="fas fa-eye"></i> View
          </button>
          <button
          class="btn btn-sm btn-warning me-2"
          (click)="onEdit(dm)"
        >
              <i class="fas fa-edit"></i> Edit
            </button>

            <button
              class="btn btn-sm btn-danger"
              (click)="onDelete(dm)"
            >
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<!-- Modal -->
<div class="modal fade" id="viewModal" tabindex="-1" aria-labelledby="viewModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-info text-white">
        <h5 class="modal-title" id="viewModalLabel">Dealer & Bike Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div *ngIf="selectedDM">
          <h6><i class="fas fa-store me-2"></i> Dealer Info</h6>
          <p><strong>Name:</strong> {{ dealerDetail?.dealerName }}</p>
          <p><strong>Address:</strong> {{ dealerDetail?.address }}</p>
          <p><strong>City:</strong> {{ dealerDetail?.city }}</p>
          <p><strong>State:</strong> {{ dealerDetail?.state }}</p>
          <p><strong>Zip Code:</strong> {{ dealerDetail?.zipCode }}</p>
          <p><strong>Storage Capacity:</strong> {{ dealerDetail?.storageCapacity }}</p>
          <p><strong>Inventory:</strong> {{ dealerDetail?.inventory }}</p>
        
          <hr>

          <h6><i class="fas fa-motorcycle me-2"></i> Bike Info</h6>
          <p><strong>Model Name:</strong> {{ bikeDetail?.modelName }}</p>
          <p><strong>Model Year:</strong> {{ bikeDetail?.modelYear }}</p>
          <p><strong>Engine CC:</strong> {{ bikeDetail?.engineCc }}</p>
          <p><strong>Manufacturer:</strong> {{ bikeDetail?.manufacturer }}</p>
          
        </div>
        <div *ngIf="!selectedDM" class="text-center">
          <i class="fas fa-spinner fa-spin fa-2x"></i> Loading...
        </div>
      </div>
    </div>
  </div>
</div>