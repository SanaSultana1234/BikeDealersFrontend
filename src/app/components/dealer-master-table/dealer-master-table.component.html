<a class="btn btn-primary mb-3" routerLink="/addDM">
  <i class="fas fa-plus-circle me-2"></i> Deliver Bikes to a Dealer
</a>

<div class="card shadow-lg mb-4">
  <div class="card-header bg-primary text-white">
    <i class="fas fa-table me-2"></i>
    Dealer Masters Data
  </div>
  <div class="card-body">
    <table
      datatable
      [dtOptions]="dtOptions"
      [dtTrigger]="dtTrigger"
      class="table table-hover table-bordered align-middle text-center"
    >
      <thead class="table-dark">
        <tr>
          <th><i class="fas fa-id-card me-1"></i> DM ID</th>
          <th><i class="fas fa-store me-1"></i> Dealer ID</th>
          <th><i class="fas fa-motorcycle me-1"></i> Bike ID</th>
          <th><i class="fas fa-truck-loading me-1"></i> Bikes Delivered</th>
          <th><i class="fas fa-calendar-day me-1"></i> Delivery Date</th>
          <th><i class="fas fa-cogs me-1"></i> Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dm of DMs">
          <td>{{ dm.dealerMasterId }}</td>

          <!-- Dealer ID -->
          <td *ngIf="!dm.isEditing">{{ dm.dealerId }}</td>
          <td *ngIf="dm.isEditing">
            <input [(ngModel)]="dm.dealerId" class="form-control form-control-sm" />
          </td>

          <!-- Bike ID -->
          <td *ngIf="!dm.isEditing">{{ dm.bikeId }}</td>
          <td *ngIf="dm.isEditing">
            <input [(ngModel)]="dm.bikeId" class="form-control form-control-sm" />
          </td>

          <!-- Bikes Delivered -->
          <td *ngIf="!dm.isEditing">{{ dm.bikesDelivered }}</td>
          <td *ngIf="dm.isEditing">
            <input [(ngModel)]="dm.bikesDelivered" type="number" class="form-control form-control-sm" />
          </td>

          <!-- Delivery Date -->
          <td *ngIf="!dm.isEditing">{{ dm.deliveryDate | date: 'yyyy-MM-dd' }}</td>
          <td *ngIf="dm.isEditing">
            <input [(ngModel)]="dm.deliveryDate" type="date" class="form-control form-control-sm" />
          </td>

          <!-- Actions -->
          <td>
            <button
              *ngIf="!dm.isEditing"
              (click)="onEdit(dm)"
              class="btn btn-sm btn-warning me-2"
            >
              <i class="fas fa-edit"></i> Edit
            </button>

            <button
              *ngIf="dm.isEditing"
              (click)="onSave(dm)"
              class="btn btn-sm btn-success me-2"
            >
              <i class="fas fa-check"></i> Save
            </button>

            <button
              class="btn btn-sm btn-danger"
              (click)="onDelete(dm)"
            >
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
