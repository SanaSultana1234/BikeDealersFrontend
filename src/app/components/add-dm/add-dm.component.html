<div class="container mt-4">
    <h2>Deliver Bikes to a Dealer</h2>
    <form [formGroup]="addDMForm" (ngSubmit)="onSubmit()">
  
       <!-- Dealer Dropdown -->
    <div class="form-group mb-3">
      <label for="dealerId">Select Dealer</label>
      <select id="dealerId" formControlName="dealerId" class="form-control">
        <option value="" disabled>Select Dealer</option>
        <option *ngFor="let d of dealers" [value]="d.dealerId">
          {{ d.dealerId }} - {{ d.dealerName }} from {{d.state}} | Available Capacity: {{d.storageCapacity - d.inventory}}
        </option>
      </select>
    </div>

    <!-- Bike Dropdown -->
    <div class="form-group mb-3">
      <label for="bikeId">Select Bike</label>
      <select id="bikeId" formControlName="bikeId" class="form-control">
        <option value="" disabled>Select Bike</option>
        <option *ngFor="let b of bikes" [value]="b.bikeId">
          {{ b.bikeId }} - {{ b.modelName }} ({{ b.manufacturer }})
        </option>
      </select>
    </div>
  
      <div class="form-group mb-3">
        <label for="bikesDelivered">Bikes Delivered</label>
      <input 
        type="number" 
        id="bikesDelivered" 
        formControlName="bikesDelivered" 
        class="form-control"
        [ngClass]="{'is-invalid': addDMForm.get('bikesDelivered')?.invalid && addDMForm.get('bikesDelivered')?.touched}"
        placeholder="Enter number of bikes delivered" 
      />

      <span class="text-danger" *ngIf="addDMForm.get('bikesDelivered')?.errors?.['exceedCapacity'] && addDMForm.get('bikesDelivered')?.touched">
        ðŸš¨ Exceeds the storage capacity of this dealer!
      </span>
      <span class="text-danger" *ngIf="addDMForm.get('bikesDelivered')?.errors?.['min'] && addDMForm.get('bikesDelivered')?.touched">
        ðŸš¨ Must deliver at least 1 bike.
      </span>
      </div>
  
      <div class="form-group mb-3">
        <label for="deliveryDate">Delivery Date</label>
        <input type="date" id="deliveryDate" formControlName="deliveryDate" class="form-control" [min]="today" />
      </div>
  
      <button type="submit" class="btn btn-primary" [disabled]="addDMForm.invalid">Deliver Bikes</button>
      <button type="button" class="btn btn-secondary ms-2" (click)="onCancelAdd()">Cancel</button>
    </form>
  </div>
  