<div class="card mb-4 shadow-sm">
  <div class="card-header bg-primary text-white">
    <i class="fas fa-store-alt me-2"></i> Dealers Data
  </div>
  <div class="card-body">
    <table
      datatable
      [dtOptions]="dtOptions"
      [dtTrigger]="dtTrigger"
      class="table table-bordered table-striped table-hover align-middle"
    >
      <thead class="table-light">
        <tr>
          <th>Dealer ID</th>
          <th><i class="fas fa-user me-1"></i> Dealer Name</th>
          <th><i class="fas fa-map-marker-alt me-1"></i> Address</th>
          <th><i class="fas fa-city me-1"></i> City</th>
          <th><i class="fas fa-flag me-1"></i> State</th>
          <th><i class="fas fa-mail-bulk me-1"></i> Zipcode</th>
          <th><i class="fas fa-warehouse me-1"></i> Storage Capacity</th>
          <th><i class="fas fa-boxes me-1"></i> Inventory</th>
          <th class="text-center"><i class="fas fa-cogs me-1"></i> Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dealer of dealers">
          <td>{{ dealer.dealerId }}</td>

          <!-- Editable Fields -->
          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.dealerName }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.dealerName" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.address }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.address" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.city }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.city" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.state }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.state" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.zipCode }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.zipCode" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.storageCapacity }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.storageCapacity" class="form-control" />
          </td>

          <td>
            <span *ngIf="!dealer.isEditing">{{ dealer.inventory }}</span>
            <input *ngIf="dealer.isEditing" [(ngModel)]="dealer.inventory" class="form-control" />
          </td>

          <!-- Actions -->
          <td class="text-center">
            <button class="btn btn-warning btn-sm me-2" (click)="toggleEdit(dealer)">
              <i class="fas" [ngClass]="dealer.isEditing ? 'fa-save' : 'fa-edit'"></i>
              {{ dealer.isEditing ? "Save" : "Edit" }}
            </button>
            <button class="btn btn-danger btn-sm" (click)="deleteDealer(dealer)">
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
